var p=Object.defineProperty;var c=(e,t,r)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var h=(e,t,r)=>c(e,typeof t!="symbol"?t+"":t,r);class f{constructor(t){h(this,"router");this.router=t}stateChange(t,r,u){var n,i;const s=((n=this.router.options)==null?void 0:n.base)??((i=this.router.options.history)==null?void 0:i.base);if(s==null)throw new Error("failed to access base path in router (no router.options.base nor router.options.history.base)");const a=window.location.origin+s;if(!r.href.startsWith(a))throw new Error("new URL does not start with base path");let o=r.href.replace(a,"");o.startsWith("/")||(o="/"+o),u.log("debug","apply state change on vue.router",t,o),t==="push"&&this.router.push(o),t==="replace"&&this.router.replace(o)}onStateChange(t){this.router.afterEach(t)}}const w=e=>new f(e);export{w as c};
