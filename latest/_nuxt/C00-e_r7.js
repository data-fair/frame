var c=Object.defineProperty;var p=(e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var i=(e,t,r)=>p(e,typeof t!="symbol"?t+"":t,r);class l{constructor(t){i(this,"router");this.router=t,this.router.afterEach(r=>{console.log("AFTER EACH")})}stateChange(t,r,u){var n,h;const s=((n=this.router.options)==null?void 0:n.base)??((h=this.router.options.history)==null?void 0:h.base);if(s==null)throw new Error("failed to access base path in router (no router.options.base nor router.options.history.base)");const a=window.location.origin+s;if(!r.href.startsWith(a))throw new Error("new URL does not start with base path");let o=r.href.replace(a,"");o.startsWith("/")||(o="/"+o),u.log("debug","apply state change on vue.router",t,o),t==="push"&&this.router.push(o),t==="replace"&&this.router.replace(o)}onStateChange(t){this.router.afterEach(t)}}const g=e=>new l(e);export{g as c};
