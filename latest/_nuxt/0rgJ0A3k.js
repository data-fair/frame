import{_ as v}from"./CwfXxwjV.js";import"./DMdNt5Rv.js";import{V as b}from"./DuohW7H5.js";import{V as x}from"./CooxpxrJ.js";import{d as k,r as m,t as d,C as p,A as f,x as s,B as a,z as V,D as o,K as h,y as g,v as w,E as c}from"./BLSejNMo.js";import"./Bfw2tOY7.js";import"./90EmMKhs.js";import"./DdqTwVIs.js";import"./BduR8zeQ.js";import"./Csup-h_Z.js";import"./NBJd_QDg.js";import"./B4a_atkh.js";import"./DundC02j.js";import"./64fYw59V.js";import"./1X8650Co.js";import"./BVmQlhAr.js";import"./BoEd3jYB.js";/* empty css        */const B={class:"text-h3 mb-6"},N=["src"],C={key:0,class:"ml-4"},M=["src"],S=["src"],O=k({__name:"messages",setup($){const i=m(!1),r=m(null),n=m(!1),l=m();return(u,e)=>{const y=v;return d(),p(x,null,{default:f(()=>[s("h1",B,[e[5]||(e[5]=a(" Messages ")),e[6]||(e[6]=s("br",null,null,-1)),V(y)]),e[7]||(e[7]=s("p",null," You can send simple notifications and custom messages through d-frame. In this case d-gframe acts as a simple wrapper around the postMessage API exposed as custom events on the d-frame element. ",-1)),e[8]||(e[8]=s("h2",{class:"text-h4 mt-8"}," Sending notification ",-1)),e[9]||(e[9]=s("p",{class:"my-4"},[a(" You can use a very simple Notif type to send notifications from child to parent. This is useful because it is often preferable to centralize notification display in the parent window. This example uses an event handler like so : "),s("code",null,'@notif="(frameNotif: CustomEvent<Notif>) => { notif = frameNotif.detail; showSnackBar = true }"')],-1)),s("d-frame",{src:`${u.$config.app.baseURL}children/send-notif`,style:{"max-width":"300px"},resize:"",class:"border-dashed border-md border-text-info border-opacity-100 pa-2",onNotif:e[0]||(e[0]=t=>{r.value=t.detail,i.value=!0})},null,40,N),o(r)?(d(),p(b,{key:0,modelValue:o(i),"onUpdate:modelValue":e[1]||(e[1]=t=>h(i)?i.value=t:null),color:o(r).type,location:"bottom right"},{default:f(()=>[a(g(o(r).title)+" ",1),o(r).detail?(d(),w("p",C,g(o(r).detail),1)):c("",!0)]),_:1},8,["modelValue","color"])):c("",!0),e[10]||(e[10]=s("h2",{class:"text-h4 mt-8"}," Sending a custom message ",-1)),e[11]||(e[11]=s("p",{class:"my-4"},[a(" If the Notif type doesn't cover your use case, more generic custom messages can also be sent. This example uses an event handler like so : "),s("code",null,'@message="(frameMessage: CustomEvent) => { message = frameMessage.detail; showSnackBar = true }"')],-1)),s("d-frame",{src:`${u.$config.app.baseURL}children/send-message`,style:{"max-width":"300px"},resize:"",class:"border-dashed border-md border-text-info border-opacity-100 pa-2",onMessage:e[2]||(e[2]=t=>{l.value=t.detail,n.value=!0})},null,40,M),e[12]||(e[12]=s("h2",{class:"text-h4 mt-8"}," Catch all messages from IFrame ",-1)),e[13]||(e[13]=s("p",{class:"my-4"},[a(" You can also catch all messages sent from the child to the parent using the standard postMessage API. To do so you must set the "),s("code",null,"emit-iframe-messages"),a(" attribute, and use an event handler like so : "),s("code",null,'@iframe-message="(iframeMessage: CustomEvent) => { message = iframeMessage.detail; showSnackBar = true }"')],-1)),s("d-frame",{src:`${u.$config.app.baseURL}children/send-message`,style:{"max-width":"300px"},resize:"",class:"border-dashed border-md border-text-info border-opacity-100 pa-2","emit-iframe-messages":"",onIframeMessage:e[3]||(e[3]=t=>{l.value=t.detail,n.value=!0})},null,40,S),o(l)?(d(),p(b,{key:1,modelValue:o(n),"onUpdate:modelValue":e[4]||(e[4]=t=>h(n)?n.value=t:null),location:"bottom right"},{default:f(()=>[a(g(o(l)),1)]),_:1},8,["modelValue"])):c("",!0)]),_:1})}}});export{O as default};
