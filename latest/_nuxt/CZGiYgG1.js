import{D as u}from"./CDOl6Amt.js";let r=null;function d(t,p){return r||(r=new u({...p,updateSrc:(o,n)=>{var l,s;const i=((l=t.options)==null?void 0:l.base)??((s=t.options.history)==null?void 0:s.base);if(i==null)n.log("error","failed to access base path in router (no router.options.base nor router.options.history.base)",t);else{const a=window.location.origin+i;if(!o.startsWith(a))n.log("info","src does not start with base path",o,a);else{let e=o.replace(a,"");e.startsWith("/")||(e="/"+e),n.log("debug","applying router.replace",e),t.replace(e);return}}n.log("info","falling back to updating window.location.href",o),window.location.href=o}}),r)}export{d as v};
