import{m as W,u as X,b as ue,a as ie,c as re}from"./Ba5KhyXO.js";import{I as C,a7 as T,ac as ce,ab as Z,a8 as q,a3 as E,W as ve,X as me,i as c,e as de,r as ye,aC as z,a4 as R,o as F,aE as pe,L as fe,G,M as ge,$ as he,z as V,aW as be}from"./B1i_bsvS.js";import{u as Ie}from"./C8uJUVgf.js";const M=Symbol.for("vuetify:layout"),Y=Symbol.for("vuetify:layout-item"),U=1e3,Se=C({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Ae=C({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function xe(){const e=T(M);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Be(e){const s=T(M);if(!s)throw new Error("[Vuetify] Could not find injected layout");const o=e.id??`layout-item-${ce()}`,u=Z("useLayoutItem");q(Y,{id:o});const n=E(!1);ve(()=>n.value=!0),me(()=>n.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:i}=s.register(u,{...e,active:c(()=>n.value?!1:e.active.value),id:o});return de(()=>s.unregister(o)),{layoutItemStyles:r,layoutRect:s.layoutRect,layoutItemScrimStyles:i}}const we=(e,s,o,u)=>{let n={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...n}}];for(const i of e){const m=s.get(i),f=o.get(i),h=u.get(i);if(!m||!f||!h)continue;const b={...n,[m.value]:parseInt(n[m.value],10)+(h.value?parseInt(f.value,10):0)};r.push({id:i,layer:b}),n=b}return r};function Le(e){const s=T(M,null),o=c(()=>s?s.rootZIndex.value-100:U),u=ye([]),n=z(new Map),r=z(new Map),i=z(new Map),m=z(new Map),f=z(new Map),{resizeRef:h,contentRect:b}=Ie(),J=c(()=>{const a=new Map,d=e.overlaps??[];for(const t of d.filter(v=>v.includes(":"))){const[v,l]=t.split(":");if(!u.value.includes(v)||!u.value.includes(l))continue;const y=n.get(v),g=n.get(l),w=r.get(v),L=r.get(l);!y||!g||!w||!L||(a.set(l,{position:y.value,amount:parseInt(w.value,10)}),a.set(v,{position:g.value,amount:-parseInt(L.value,10)}))}return a}),I=c(()=>{const a=[...new Set([...i.values()].map(t=>t.value))].sort((t,v)=>t-v),d=[];for(const t of a){const v=u.value.filter(l=>{var y;return((y=i.get(l))==null?void 0:y.value)===t});d.push(...v)}return we(d,n,r,m)}),H=c(()=>!Array.from(f.values()).some(a=>a.value)),S=c(()=>I.value[I.value.length-1].layer),Q=c(()=>({"--v-layout-left":R(S.value.left),"--v-layout-right":R(S.value.right),"--v-layout-top":R(S.value.top),"--v-layout-bottom":R(S.value.bottom),...H.value?void 0:{transition:"none"}})),x=c(()=>I.value.slice(1).map((a,d)=>{let{id:t}=a;const{layer:v}=I.value[d],l=r.get(t),y=n.get(t);return{id:t,...v,size:Number(l.value),position:y.value}})),_=a=>x.value.find(d=>d.id===a),P=Z("createLayout"),D=E(!1);F(()=>{D.value=!0}),q(M,{register:(a,d)=>{let{id:t,order:v,position:l,layoutSize:y,elementSize:g,active:w,disableTransitions:L,absolute:oe}=d;i.set(t,v),n.set(t,l),r.set(t,y),m.set(t,w),L&&f.set(t,L);const N=pe(Y,P==null?void 0:P.vnode).indexOf(a);N>-1?u.value.splice(N,0,t):u.value.push(t);const j=c(()=>x.value.findIndex($=>$.id===t)),A=c(()=>o.value+I.value.length*2-j.value*2),ae=c(()=>{const $=l.value==="left"||l.value==="right",B=l.value==="right",se=l.value==="bottom",k=g.value??y.value,le=k===0?"%":"px",K={[l.value]:0,zIndex:A.value,transform:`translate${$?"X":"Y"}(${(w.value?0:-(k===0?100:k))*(B||se?-1:1)}${le})`,position:oe.value||o.value!==U?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!D.value)return K;const p=x.value[j.value];if(!p)throw new Error(`[Vuetify] Could not find layout item "${t}"`);const O=J.value.get(t);return O&&(p[O.position]+=O.amount),{...K,height:$?`calc(100% - ${p.top}px - ${p.bottom}px)`:g.value?`${g.value}px`:void 0,left:B?void 0:`${p.left}px`,right:B?`${p.right}px`:void 0,top:l.value!=="bottom"?`${p.top}px`:void 0,bottom:l.value!=="top"?`${p.bottom}px`:void 0,width:$?g.value?`${g.value}px`:void 0:`calc(100% - ${p.left}px - ${p.right}px)`}}),ne=c(()=>({zIndex:A.value-1}));return{layoutItemStyles:ae,layoutItemScrimStyles:ne,zIndex:A}},unregister:a=>{i.delete(a),n.delete(a),r.delete(a),m.delete(a),f.delete(a),u.value=u.value.filter(d=>d!==a)},mainRect:S,mainStyles:Q,getLayoutItem:_,items:x,layoutRect:b,rootZIndex:o});const ee=c(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),te=c(()=>({zIndex:s?o.value:void 0,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:ee,layoutStyles:te,getLayoutItem:_,items:x,layoutRect:b,layoutRef:h}}const $e=C({...W(),...Se({fullHeight:!0}),...fe()},"VApp"),ke=G()({name:"VApp",props:$e(),setup(e,s){let{slots:o}=s;const u=ge(e),{layoutClasses:n,getLayoutItem:r,items:i,layoutRef:m}=Le(e),{rtlClasses:f}=he();return X(()=>{var h;return V("div",{ref:m,class:["v-application",u.themeClasses.value,n.value,f.value,e.class],style:[e.style]},[V("div",{class:"v-application__wrap"},[(h=o.default)==null?void 0:h.call(o)])])}),{getLayoutItem:r,items:i,theme:u}}});function ze(){const e=E(!1);return F(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:c(()=>e.value?void 0:{transition:"none !important"}),isBooted:be(e)}}const Re=C({scrollable:Boolean,...W(),...ue(),...ie({tag:"main"})},"VMain"),Oe=G()({name:"VMain",props:Re(),setup(e,s){let{slots:o}=s;const{dimensionStyles:u}=re(e),{mainStyles:n}=xe(),{ssrBootStyles:r}=ze();return X(()=>V(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[n.value,r.value,u.value,e.style]},{default:()=>{var i,m;return[e.scrollable?V("div",{class:"v-main__scroller"},[(i=o.default)==null?void 0:i.call(o)]):(m=o.default)==null?void 0:m.call(o)]}})),{}}});export{Oe as V,Be as a,ke as b,Ae as m,ze as u};
